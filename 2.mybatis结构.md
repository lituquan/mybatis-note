

### 1.结构分层
    https://www.cnblogs.com/mengheng/p/3739610.html
    接口层
    核心层【配置解析-->参数处理-->sql执行-->结果映射】
    基础层【日志、缓存、数据源、连接池、事务、反射、类型】

### 2.接口层
    session包        
        数据源xml=>SqlSessionFactoryBuilder=>SqlSessionFactory=>SqlSession、Configuration

### 执行过程
    https://www.jianshu.com/p/6ddb8e1f5071
    https://baijiahao.baidu.com/s?id=1663126228750190252&wfr=spider&for=pc
    （事务控制？）
    加载配置，存入configuration
    配置交给DefaultSqlSessionFactory        
        Xml->inputstream->XMLConfigBuilder->parseConfiguration

    读取xml获取sql
    参数生成完整sql
        parseConfiguration->mapperParser.parse()->configurationElement->
            buildStatementFromContext(context.evalNodes("select|insert|update|delete"))->addMappedStatement

    创建SqlSession
       openSession-> DefaultSqlSessionFactory:openSessionFromDataSource->
                获取数据源，开启事务newTransaction->获取执行器SimpleExecutor->prepareStatement->jdbc调用

    jdbc执行sql
    提交sql

    获取结果：类型转换和对象构造
